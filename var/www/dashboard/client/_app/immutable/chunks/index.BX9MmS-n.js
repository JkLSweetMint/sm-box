import{n as M,q as Ot,i as Bt,s as qt,E as K,F as W,p as Gt,r as Ht,c as ut,o as Pt,a as rt}from"./scheduler.B4NQwY3t.js";import{C as jt,D as Wt,E as Jt,F as Xt,S as Rt,i as xt,b as R,j as Y,H as Ct,t as St,f as x,g as C,d as k,k as Z,G as Lt,c as Nt,h as F,I as V,J as U,a as tt,l as I,K as zt,L as Kt,M as Qt,s as Yt,e as vt,A as Zt,y as $t,u as Vt,v as Ut,n as te,q as ee,r as se,w as ne}from"./index.gMR2UOS6.js";import{c as ae,t as Ft,o as oe,a as re,m as $,b as Mt,u as le,e as bt,d as lt,g as ft,n as ie,i as wt,k as Et,f as Q,h as kt,j as Dt,l as ce,p as ue}from"./index.BLrkd4DQ.js";import{w as _t,d as de,a as fe}from"./index.DtvkMZOO.js";import{c as it}from"./index.Df_iRG8e.js";function _e(s,e,t,n){if(!e)return M;const a=s.getBoundingClientRect();if(e.left===a.left&&e.right===a.right&&e.top===a.top&&e.bottom===a.bottom)return M;const{delay:d=0,duration:_=300,easing:c=Ot,start:i=jt()+d,end:r=i+_,tick:f=M,css:p}=t(s,{from:e,to:a},n);let w=!0,v=!1,l;function m(){p&&(l=Jt(s,0,1,_,d,c,p)),d||(v=!0)}function h(){p&&Xt(s,l),w=!1}return Wt(u=>{if(!v&&u>=i&&(v=!0),v&&u>=r&&(f(1,0),h()),!w)return!1;if(v){const g=u-i,b=0+1*c(g/_);f(b,1-b)}return!0}),m(),f(0,1),h}function pe(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,a=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,me(s,a)}}function me(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),a=n.transform==="none"?"":n.transform;s.style.transform=`${a} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function he(s,{from:e,to:t},n={}){const a=getComputedStyle(s),d=a.transform==="none"?"":a.transform,[_,c]=a.transformOrigin.split(" ").map(parseFloat),i=e.left+e.width*_/t.width-(t.left+_),r=e.top+e.height*c/t.height-(t.top+c),{delay:f=0,duration:p=v=>Math.sqrt(v)*120,easing:w=ae}=n;return{delay:f,duration:Bt(p)?p(Math.sqrt(i*i+r*r)):p,easing:w,css:(v,l)=>{const m=l*i,h=l*r,u=v+l*e.width/t.width,g=v+l*e.height/t.height;return`transform: ${d} translate(${m}px, ${h}px) scale(${u}, ${g});`}}}const ge={defaultValue:0,max:100},{name:ye}=Mt("progress"),ve=s=>{const e={...ge,...s},t=Ft(oe(e,"value")),{max:n}=t,a=e.value??_t(e.defaultValue),d=re(a,e==null?void 0:e.onValueChange);return{elements:{root:$(ye(),{stores:[d,n],returned:([c,i])=>({value:c,max:i,role:"meter","aria-valuemin":0,"aria-valuemax":i,"aria-valuenow":c,"data-value":c,"data-state":c===null?"indeterminate":c===i?"complete":"loading","data-max":i})})},states:{value:d},options:t}},{name:ct}=Mt("toast"),be={closeDelay:5e3,type:"foreground"};function we(s){const e={...be,...s},t=Ft(e),{closeDelay:n,type:a}=t,d=_t(new Map),_=l=>{const m={closeDelay:n.get(),type:a.get(),...l},h={content:ft(),title:ft(),description:ft()},u=m.closeDelay===0?null:window.setTimeout(()=>{c(h.content)},m.closeDelay),g=()=>{const{createdAt:D,pauseDuration:q,closeDelay:L,pausedAt:S}=b;return L===0?0:S?100*(S-D-q)/L:100*(performance.now()-D-q)/L},b={id:h.content,ids:h,...m,timeout:u,createdAt:performance.now(),pauseDuration:0,getPercentage:g};return d.update(D=>(D.set(h.content,b),new Map(D))),b},c=l=>{d.update(m=>(m.delete(l),new Map(m)))},i=(l,m)=>{d.update(h=>{const u=h.get(l);return u?(h.set(l,{...u,data:m}),new Map(h)):h})},r=$(ct("content"),{stores:d,returned:l=>m=>{const h=l.get(m);if(!h)return null;const{...u}=h;return{id:m,role:"alert","aria-describedby":u.ids.description,"aria-labelledby":u.ids.title,"aria-live":u.type==="foreground"?"assertive":"polite",tabindex:-1}},action:l=>{let m=ie;return m=bt(lt(l,"pointerenter",h=>{wt(h)||d.update(u=>{const g=u.get(l.id);return!g||g.closeDelay===0?u:(g.timeout!==null&&window.clearTimeout(g.timeout),g.pausedAt=performance.now(),new Map(u))})}),lt(l,"pointerleave",h=>{wt(h)||d.update(u=>{const g=u.get(l.id);if(!g||g.closeDelay===0)return u;const b=g.pausedAt??g.createdAt,D=b-g.createdAt-g.pauseDuration,q=g.closeDelay-D;return g.timeout=window.setTimeout(()=>{c(l.id)},q),g.pauseDuration+=performance.now()-b,g.pausedAt=void 0,new Map(u)})}),()=>{c(l.id)}),{destroy:m}}}),f=$(ct("title"),{stores:d,returned:l=>m=>{const h=l.get(m);return h?{id:h.ids.title}:null}}),p=$(ct("description"),{stores:d,returned:l=>m=>{const h=l.get(m);return h?{id:h.ids.description}:null}}),w=$(ct("close"),{returned:()=>l=>({type:"button","data-id":l}),action:l=>{function m(){l.dataset.id&&c(l.dataset.id)}return{destroy:bt(lt(l,"click",()=>{m()}),lt(l,"keydown",u=>{u.key!==Et.ENTER&&u.key!==Et.SPACE||(u.preventDefault(),m())}))}}}),v=de(d,l=>Array.from(l.values()));return{elements:{content:r,title:f,description:p,close:w},states:{toasts:fe(v)},helpers:{addToast:_,removeToast:c,updateToast:i},actions:{portal:le},options:t}}function Ee(s){let e=s[4].description+"",t;return{c(){t=St(e)},l(n){t=Nt(n,e)},m(n,a){tt(n,t,a)},p(n,a){a&16&&e!==(e=n[4].description+"")&&Yt(t,e)},d(n){n&&k(t)}}}function ke(s){let e,t=s[4].description+"",n;return{c(){e=new Ct(!1),n=vt(),this.h()},l(a){e=Lt(a,!1),n=vt(),this.h()},h(){e.a=n},m(a,d){e.m(t,a,d),tt(a,n,d)},p(a,d){d&16&&t!==(t=a[4].description+"")&&e.p(t)},d(a){a&&(k(n),e.d())}}}function De(s){let e,t,n,a,d,_,c,i,r,f=s[15](s[4].type)+"",p,w,v,l=s[4].title+"",m,h,u,g,b,D,q,L,S,T,J,X,P=[s[9],{class:"toast__indicator"}],O={};for(let o=0;o<P.length;o+=1)O=K(O,P[o]);let B=[s[2],{class:"flex items-center gap-2 text-lg font-semibold"}],N={};for(let o=0;o<B.length;o+=1)N=K(N,B[o]);function G(o,E){return o[4].flags&Ie?ke:Ee}let H=G(s),A=H(s),z=[s[1],{class:"text-sm"}],y={};for(let o=0;o<z.length;o+=1)y=K(y,z[o]);let j=[s[0],{class:"toast__close"}],et={};for(let o=0;o<j.length;o+=1)et=K(et,j[o]);let dt=[s[3],{class:q="toast"+it(s[4].type)+it(s[4].flags&It?"with-main-color":"")}],st={};for(let o=0;o<dt.length;o+=1)st=K(st,dt[o]);return{c(){e=R("div"),t=R("div"),n=R("div"),d=Y(),_=R("div"),c=R("div"),i=R("div"),r=new Ct(!1),p=Y(),w=R("div"),v=R("span"),m=St(l),h=Y(),u=R("span"),A.c(),g=Y(),b=R("button"),D=R("i"),this.h()},l(o){e=x(o,"DIV",{class:!0});var E=C(e);t=x(E,"DIV",{class:!0});var pt=C(t);n=x(pt,"DIV",{style:!0,class:!0}),C(n).forEach(k),pt.forEach(k),d=Z(E),_=x(E,"DIV",{class:!0});var nt=C(_);c=x(nt,"DIV",{class:!0});var at=C(c);i=x(at,"DIV",{class:!0});var mt=C(i);r=Lt(mt,!1),mt.forEach(k),p=Z(at),w=x(at,"DIV",{class:!0});var ot=C(w);v=x(ot,"SPAN",{class:!0});var ht=C(v);m=Nt(ht,l),ht.forEach(k),h=Z(ot),u=x(ot,"SPAN",{class:!0});var gt=C(u);A.l(gt),gt.forEach(k),ot.forEach(k),at.forEach(k),g=Z(nt),b=x(nt,"BUTTON",{class:!0});var yt=C(b);D=x(yt,"I",{class:!0}),C(D).forEach(k),yt.forEach(k),nt.forEach(k),E.forEach(k),this.h()},h(){F(n,"style",a=`transform: translateX(-${100*(s[10]??0)/(s[11]??1)}%)`),F(n,"class","svelte-14k9omq"),V(t,O),U(t,"svelte-14k9omq",!0),r.a=null,F(i,"class","flex flex-col items-center justify-center mr-3"),V(v,N),U(v,"svelte-14k9omq",!0),V(u,y),U(u,"svelte-14k9omq",!0),F(w,"class","flex flex-col"),F(c,"class","flex flex-row"),F(D,"class","fa-solid fa-xmark"),V(b,et),U(b,"svelte-14k9omq",!0),F(_,"class","toast__content svelte-14k9omq"),V(e,st),U(e,"svelte-14k9omq",!0)},m(o,E){tt(o,e,E),I(e,t),I(t,n),I(e,d),I(e,_),I(_,c),I(c,i),r.m(f,i),I(c,p),I(c,w),I(w,v),I(v,m),I(w,h),I(w,u),A.m(u,null),I(_,g),I(_,b),I(b,D),b.autofocus&&b.focus(),T=!0,J||(X=[W(s[9].action(t)),W(s[2].action(v)),W(s[1].action(u)),W(s[0].action(b)),W(s[3].action(e))],J=!0)},p(o,[E]){(!T||E&3072&&a!==(a=`transform: translateX(-${100*(o[10]??0)/(o[11]??1)}%)`))&&F(n,"style",a),V(t,O=Q(P,[E&512&&o[9],{class:"toast__indicator"}])),U(t,"svelte-14k9omq",!0),(!T||E&16)&&f!==(f=o[15](o[4].type)+"")&&r.p(f),(!T||E&16)&&l!==(l=o[4].title+"")&&zt(m,l,N.contenteditable),V(v,N=Q(B,[E&4&&o[2],{class:"flex items-center gap-2 text-lg font-semibold"}])),U(v,"svelte-14k9omq",!0),H===(H=G(o))&&A?A.p(o,E):(A.d(1),A=H(o),A&&(A.c(),A.m(u,null))),V(u,y=Q(z,[E&2&&o[1],{class:"text-sm"}])),U(u,"svelte-14k9omq",!0),V(b,et=Q(j,[E&1&&o[0],{class:"toast__close"}])),U(b,"svelte-14k9omq",!0),V(e,st=Q(dt,[E&8&&o[3],(!T||E&16&&q!==(q="toast"+it(o[4].type)+it(o[4].flags&It?"with-main-color":"")))&&{class:q}])),U(e,"svelte-14k9omq",!0)},i(o){T||(o&&Gt(()=>{T&&(S&&S.end(1),L=Kt(e,kt,{duration:150,x:"100%"}),L.start())}),T=!0)},o(o){L&&L.invalidate(),o&&(S=Qt(e,kt,{duration:150,x:"100%"})),T=!1},d(o){o&&k(e),A.d(),o&&S&&S.end(),J=!1,Ht(X)}}}const It=1,Ie=2,Te="info",Ae="success",qe="warning",Re="error";function xe(s,e,t){let n,a,d,_,c,i,r,f,p,w,v,l,m=M,h=()=>(m(),m=rt(_,y=>t(19,l=y)),_),u,g=M,b=()=>(g(),g=rt(d,y=>t(20,u=y)),d),D,q=M,L=()=>(q(),q=rt(a,y=>t(21,D=y)),a),S,T=M,J=()=>(T(),T=rt(n,y=>t(22,S=y)),n),X,P,O;s.$$.on_destroy.push(()=>m()),s.$$.on_destroy.push(()=>g()),s.$$.on_destroy.push(()=>q()),s.$$.on_destroy.push(()=>T());let{elements:B}=e,{toast:N}=e;const G=_t(0);ut(s,G,y=>t(10,P=y));const{elements:{root:H},options:{max:A}}=ve({max:100,value:G});ut(s,H,y=>t(9,X=y)),ut(s,A,y=>t(11,O=y));const z=function(y){switch(y){case Te:return'<i class="fa-solid fa-circle-info text-info text-xl"></i>';case Ae:return'<i class="fa-solid fa-circle-check text-success text-xl"></i>';case qe:return'<i class="fa-solid fa-triangle-exclamation text-warning text-xl"></i>';case Re:return'<i class="fa-solid fa-circle-exclamation text-error text-xl"></i>'}return""};return Pt(()=>{let y;const j=()=>{G.set(r()),y=requestAnimationFrame(j)};return y=requestAnimationFrame(j),()=>cancelAnimationFrame(y)}),s.$$set=y=>{"elements"in y&&t(16,B=y.elements),"toast"in y&&t(17,N=y.toast)},s.$$.update=()=>{s.$$.dirty&65536&&J(t(8,{content:n,title:a,description:d,close:_}=B,n,L(t(7,a)),b(t(6,d)),h(t(5,_)))),s.$$.dirty&131072&&t(4,{data:c,id:i,getPercentage:r}=N,c,(t(18,i),t(17,N))),s.$$.dirty&4456448&&t(3,f=S(i)),s.$$.dirty&2359296&&t(2,p=D(i)),s.$$.dirty&1310720&&t(1,w=u(i)),s.$$.dirty&786432&&t(0,v=l(i))},[v,w,p,f,c,_,d,a,n,X,P,O,G,H,A,z,B,N,i,l,u,D,S]}class Ce extends Rt{constructor(e){super(),xt(this,e,xe,De,qt,{elements:16,toast:17})}}function Tt(s,e,t){const n=s.slice();return n[1]=e[t],n}function At(s,e){let t,n,a,d,_=M,c;return n=new Ce({props:{elements:Le,toast:e[1]}}),{key:s,first:null,c(){t=R("div"),te(n.$$.fragment),a=Y(),this.h()},l(i){t=x(i,"DIV",{});var r=C(t);ee(n.$$.fragment,r),a=Z(r),r.forEach(k),this.h()},h(){this.first=t},m(i,r){tt(i,t,r),se(n,t,null),I(t,a),c=!0},p(i,r){e=i;const f={};r&1&&(f.toast=e[1]),n.$set(f)},r(){d=t.getBoundingClientRect()},f(){pe(t),_()},a(){_(),_=_e(t,d,he,{duration:500})},i(i){c||(Vt(n.$$.fragment,i),c=!0)},o(i){Ut(n.$$.fragment,i),c=!1},d(i){i&&k(t),ne(n)}}}function Se(s){let e,t=[],n=new Map,a,d,_,c=Dt(s[0]);const i=r=>r[1].id;for(let r=0;r<c.length;r+=1){let f=Tt(s,c,r),p=i(f);n.set(p,t[r]=At(p,f))}return{c(){e=R("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=x(r,"DIV",{class:!0});var f=C(e);for(let p=0;p<t.length;p+=1)t[p].l(f);f.forEach(k),this.h()},h(){F(e,"class","toast-container svelte-zln6l1")},m(r,f){tt(r,e,f);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);a=!0,d||(_=W(Ue.call(null,e)),d=!0)},p(r,[f]){if(f&1){c=Dt(r[0]),Zt();for(let p=0;p<t.length;p+=1)t[p].r();t=ce(t,f,i,1,r,c,n,e,ue,At,null,Tt);for(let p=0;p<t.length;p+=1)t[p].a();$t()}},i(r){if(!a){for(let f=0;f<c.length;f+=1)Vt(t[f]);a=!0}},o(r){for(let f=0;f<t.length;f+=1)Ut(t[f]);a=!1},d(r){r&&k(e);for(let f=0;f<t.length;f+=1)t[f].d();d=!1,_()}}}const{elements:Le,helpers:{addToast:Ne},states:{toasts:Ve},actions:{portal:Ue}}=we(),je=Ne;function Fe(s,e,t){let n;return ut(s,Ve,a=>t(0,n=a)),[n]}class We extends Rt{constructor(e){super(),xt(this,e,Fe,Se,qt,{})}}const Me=1,Je=s=>`/${s.name}/api/v${s.version??"1.0"}`,Xe=async function(s){s.flags=s.flags?s.flags:0;try{let e={method:s.method??"GET",credentials:s.flags&Me?"include":"omit",headers:s.headers};e.method!="GET"&&(e.body=JSON.stringify(s.data));let t="";s.query&&(t="?"+Object.entries(s.query).map(_=>Array.isArray(_[1])?_[1].map(c=>`${_[0]}=${c}`):[`${_[0]}=${_[1]}`]).map(_=>_.join("&")).join("&"));const n=await fetch(s.url+t,e),a=Object.fromEntries([...n.headers.entries()]);return{data:await n.json(),meta:{headers:a}}}catch(e){throw new Error(`Failed to call a request: ${e}`)}},ze=async function(s){return(await fetch(window.location.toString(),{method:"HEAD"})).headers.get(s)||null};export{It as C,Re as E,Xe as F,Je as G,We as R,Me as W,ze as a,je as s};
