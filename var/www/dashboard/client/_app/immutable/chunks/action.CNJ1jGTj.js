import{y as De,x as B,b as q,R as ae,w as ce,l as Et,O as ft,q as Ne,i as Ce,G as Fe,k as Wt,r as ke}from"./index.C2WeaqD0.js";import{d as le,r as ue}from"./index.C_NBoP9Y.js";import{v as Le}from"./scheduler.B5rZiKyw.js";function xr(e,t,n,r=!0){const i=t-n;return i<=0?r?e[e.length-1]:e[0]:e[i]}function Tr(e,t,n,r=!0){const i=t+n;return i>e.length-1?r?e[0]:e[e.length-1]:e[i]}function Ar(e,t,n=!0){return t===e.length-1?n?e[0]:e[t]:e[t+1]}function Sr(e,t,n=!0){return t<=0?n?e[e.length-1]:e[0]:e[t-1]}function Er(e){return e[e.length-1]}function Or(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Pr(e,t,n=De){const r=t.findIndex(i=>n(i,e));return r!==-1?t.splice(r,1):t.push(e),t}const Ie=e=>{try{Le(e)}catch{return e}};function Rr(e){return new Promise(t=>setTimeout(t,e))}function Nt(e,t=500){let n;const r=(...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)};return r.destroy=()=>clearTimeout(n),r}const fe=()=>typeof window<"u";function Me(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}const de=e=>fe()&&e.test(Me().toLowerCase()),Be=()=>fe()&&!!navigator.maxTouchPoints,$e=()=>de(/^mac/)&&!Be(),We=()=>de(/mac|iphone|ipad|ipod/i),je=()=>We()&&!$e(),Ct="data-melt-scroll-lock";function Yt(e,t){if(!e)return;const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Ke(e,t,n){if(!e)return;const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{r?e.style.setProperty(t,r):e.style.removeProperty(t)}}function Ve(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Dr(e){const t=document,n=t.defaultView??window,{documentElement:r,body:i}=t;if(i.hasAttribute(Ct))return B;i.setAttribute(Ct,"");const o=n.innerWidth-r.clientWidth,c=()=>Ke(r,"--scrollbar-width",`${o}px`),a=Ve(r),l=n.getComputedStyle(i)[a],d=()=>Yt(i,{overflow:"hidden",[a]:`calc(${l} + ${o}px)`}),p=()=>{const{scrollX:v,scrollY:g,visualViewport:y}=n,x=(y==null?void 0:y.offsetLeft)??0,m=(y==null?void 0:y.offsetTop)??0,w=Yt(i,{position:"fixed",overflow:"hidden",top:`${-(g-Math.floor(m))}px`,left:`${-(v-Math.floor(x))}px`,right:"0",[a]:`calc(${l} + ${o}px)`});return()=>{w==null||w(),n.scrollTo(v,g)}},h=[c(),je()?p():d()];return()=>{h.forEach(v=>v==null?void 0:v()),i.removeAttribute(Ct)}}function Nr(e){const{open:t,forceVisible:n,activeTrigger:r}=e;return le([t,n,r],([i,s,o])=>(i||s)&&o!==null)}function He(e,t,n={}){const{skipFirstRun:r}=n;let i=!0,s;const o=le(e,a=>{s==null||s(),i&&r?i=!1:s=t(a)}).subscribe(B),c=()=>{o(),s==null||s()};return Ie(c),c}function Ue(e){let t=e.parentElement;for(;q(t)&&!t.hasAttribute("data-portal");)t=t.parentElement;return t||"body"}function Cr(e,t){return t!==void 0?t:Ue(e)==="body"?document.body:null}function jt(e,t){return e===t||e.contains(t)}function ve(e){return(e==null?void 0:e.ownerDocument)??document}const mt=new Map,ze=(e,t={})=>{let n=B;function r(i={}){n();const s={behaviorType:"close",...i},o=ae(s.behaviorType)?s.behaviorType:ce(ue(s.behaviorType));mt.set(e,o),n=Et(ft(document,"keydown",a=>{var d;if(a.key!==Ne.ESCAPE||!qe(e))return;const l=a.target;q(l)&&(a.preventDefault(),!Ge(a,s.ignore)&&Ye(o.get())&&((d=s.handler)==null||d.call(s,a)))},{passive:!1}),He(o,a=>{a==="close"||a==="defer-otherwise-close"&&[...mt.keys()][0]===e?e.dataset.escapee="":delete e.dataset.escapee}),o.destroy||B)}return r(t),{update:r,destroy(){mt.delete(e),delete e.dataset.escapee,n()}}},qe=e=>{const t=[...mt],n=t.findLast(([i,s])=>{const o=s.get();return o==="close"||o==="ignore"});if(n)return n[0]===e;const[r]=t[0];return r===e},Ge=(e,t)=>t?!!(Ce(t)&&t(e)||Array.isArray(t)&&t.some(n=>e.target===n)):!1,Ye=e=>e==="close"||e==="defer-otherwise-close",K=Math.min,$=Math.max,gt=Math.round,pt=Math.floor,G=e=>({x:e,y:e}),Xe={left:"right",right:"left",bottom:"top",top:"bottom"},Ze={start:"end",end:"start"};function Lt(e,t,n){return $(e,K(t,n))}function ot(e,t){return typeof e=="function"?e(t):e}function Y(e){return e.split("-")[0]}function it(e){return e.split("-")[1]}function pe(e){return e==="x"?"y":"x"}function Kt(e){return e==="y"?"height":"width"}function Q(e){return["top","bottom"].includes(Y(e))?"y":"x"}function Vt(e){return pe(Q(e))}function Je(e,t,n){n===void 0&&(n=!1);const r=it(e),i=Vt(e),s=Kt(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=yt(o)),[o,yt(o)]}function Qe(e){const t=yt(e);return[It(e),t,It(t)]}function It(e){return e.replace(/start|end/g,t=>Ze[t])}function _e(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function tn(e,t,n,r){const i=it(e);let s=_e(Y(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(It)))),s}function yt(e){return e.replace(/left|right|bottom|top/g,t=>Xe[t])}function en(e){return{top:0,right:0,bottom:0,left:0,...e}}function be(e){return typeof e!="number"?en(e):{top:e,right:e,bottom:e,left:e}}function wt(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Xt(e,t,n){let{reference:r,floating:i}=e;const s=Q(t),o=Vt(t),c=Kt(o),a=Y(t),l=s==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,h=r[c]/2-i[c]/2;let v;switch(a){case"top":v={x:d,y:r.y-i.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-i.width,y:p};break;default:v={x:r.x,y:r.y}}switch(it(t)){case"start":v[o]-=h*(n&&l?-1:1);break;case"end":v[o]+=h*(n&&l?-1:1);break}return v}const nn=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,c=s.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:p}=Xt(l,r,a),h=r,v={},g=0;for(let y=0;y<c.length;y++){const{name:x,fn:m}=c[y],{x:w,y:A,data:D,reset:P}=await m({x:d,y:p,initialPlacement:r,placement:h,strategy:i,middlewareData:v,rects:l,platform:o,elements:{reference:e,floating:t}});d=w??d,p=A??p,v={...v,[x]:{...v[x],...D}},P&&g<=50&&(g++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(l=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:d,y:p}=Xt(l,h,a)),y=-1)}return{x:d,y:p,placement:h,strategy:i,middlewareData:v}};async function Ht(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:c,strategy:a}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:v=0}=ot(t,e),g=be(v),x=c[h?p==="floating"?"reference":"floating":p],m=wt(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:l,rootBoundary:d,strategy:a})),w=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),D=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},P=wt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:A,strategy:a}):w);return{top:(m.top-P.top+g.top)/D.y,bottom:(P.bottom-m.bottom+g.bottom)/D.y,left:(m.left-P.left+g.left)/D.x,right:(P.right-m.right+g.right)/D.x}}const rn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:c,middlewareData:a}=t,{element:l,padding:d=0}=ot(e,t)||{};if(l==null)return{};const p=be(d),h={x:n,y:r},v=Vt(i),g=Kt(v),y=await o.getDimensions(l),x=v==="y",m=x?"top":"left",w=x?"bottom":"right",A=x?"clientHeight":"clientWidth",D=s.reference[g]+s.reference[v]-h[v]-s.floating[g],P=h[v]-s.reference[v],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let k=F?F[A]:0;(!k||!await(o.isElement==null?void 0:o.isElement(F)))&&(k=c.floating[A]||s.floating[g]);const M=D/2-P/2,L=k/2-y[g]/2-1,N=K(p[m],L),S=K(p[w],L),u=N,f=k-y[g]-S,b=k/2-y[g]/2+M,E=Lt(u,b,f),T=!a.arrow&&it(i)!=null&&b!==E&&s.reference[g]/2-(b<u?N:S)-y[g]/2<0,O=T?b<u?b-u:b-f:0;return{[v]:h[v]+O,data:{[v]:E,centerOffset:b-E-O,...T&&{alignmentOffset:O}},reset:T}}}),on=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:c,platform:a,elements:l}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=ot(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Y(i),w=Q(c),A=Y(c)===c,D=await(a.isRTL==null?void 0:a.isRTL(l.floating)),P=h||(A||!y?[yt(c)]:Qe(c)),F=g!=="none";!h&&F&&P.push(...tn(c,y,g,D));const k=[c,...P],M=await Ht(t,x),L=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&L.push(M[m]),p){const b=Je(i,o,D);L.push(M[b[0]],M[b[1]])}if(N=[...N,{placement:i,overflows:L}],!L.every(b=>b<=0)){var S,u;const b=(((S=s.flip)==null?void 0:S.index)||0)+1,E=k[b];if(E)return{data:{index:b,overflows:N},reset:{placement:E}};let T=(u=N.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:u.placement;if(!T)switch(v){case"bestFit":{var f;const O=(f=N.filter(R=>{if(F){const C=Q(R.placement);return C===w||C==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(C=>C>0).reduce((C,I)=>C+I,0)]).sort((R,C)=>R[1]-C[1])[0])==null?void 0:f[0];O&&(T=O);break}case"initialPlacement":T=c;break}if(i!==T)return{reset:{placement:T}}}return{}}}};async function sn(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Y(n),c=it(n),a=Q(n)==="y",l=["left","top"].includes(o)?-1:1,d=s&&a?-1:1,p=ot(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return c&&typeof g=="number"&&(v=c==="end"?g*-1:g),a?{x:v*d,y:h*l}:{x:h*l,y:v*d}}const an=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:c}=t,a=await sn(t,e);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:o}}}}},cn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:x=>{let{x:m,y:w}=x;return{x:m,y:w}}},...a}=ot(e,t),l={x:n,y:r},d=await Ht(t,a),p=Q(Y(i)),h=pe(p);let v=l[h],g=l[p];if(s){const x=h==="y"?"top":"left",m=h==="y"?"bottom":"right",w=v+d[x],A=v-d[m];v=Lt(w,v,A)}if(o){const x=p==="y"?"top":"left",m=p==="y"?"bottom":"right",w=g+d[x],A=g-d[m];g=Lt(w,g,A)}const y=c.fn({...t,[h]:v,[p]:g});return{...y,data:{x:y.x-n,y:y.y-r}}}}},ln=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...c}=ot(e,t),a=await Ht(t,c),l=Y(n),d=it(n),p=Q(n)==="y",{width:h,height:v}=r.floating;let g,y;l==="top"||l==="bottom"?(g=l,y=d===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(y=l,g=d==="end"?"top":"bottom");const x=v-a.top-a.bottom,m=h-a.left-a.right,w=K(v-a[g],x),A=K(h-a[y],m),D=!t.middlewareData.shift;let P=w,F=A;if(p?F=d||D?K(A,m):m:P=d||D?K(w,x):x,D&&!d){const M=$(a.left,0),L=$(a.right,0),N=$(a.top,0),S=$(a.bottom,0);p?F=h-2*(M!==0||L!==0?M+L:$(a.left,a.right)):P=v-2*(N!==0||S!==0?N+S:$(a.top,a.bottom))}await o({...t,availableWidth:F,availableHeight:P});const k=await i.getDimensions(s.floating);return h!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function st(e){return he(e)?(e.nodeName||"").toLowerCase():"#document"}function W(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function U(e){var t;return(t=(he(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function he(e){return e instanceof Node||e instanceof W(e).Node}function V(e){return e instanceof Element||e instanceof W(e).Element}function H(e){return e instanceof HTMLElement||e instanceof W(e).HTMLElement}function Zt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof W(e).ShadowRoot}function vt(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=j(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function un(e){return["table","td","th"].includes(st(e))}function Ot(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ut(e){const t=zt(),n=j(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function fn(e){let t=X(e);for(;H(t)&&!rt(t);){if(Ot(t))return null;if(Ut(t))return t;t=X(t)}return null}function zt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rt(e){return["html","body","#document"].includes(st(e))}function j(e){return W(e).getComputedStyle(e)}function Pt(e){return V(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function X(e){if(st(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zt(e)&&e.host||U(e);return Zt(t)?t.host:t}function me(e){const t=X(e);return rt(t)?e.ownerDocument?e.ownerDocument.body:e.body:H(t)&&vt(t)?t:me(t)}function dt(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=me(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=W(i);return s?t.concat(o,o.visualViewport||[],vt(i)?i:[],o.frameElement&&n?dt(o.frameElement):[]):t.concat(i,dt(i,[],n))}function ge(e){const t=j(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=H(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,c=gt(n)!==s||gt(r)!==o;return c&&(n=s,r=o),{width:n,height:r,$:c}}function qt(e){return V(e)?e:e.contextElement}function nt(e){const t=qt(e);if(!H(t))return G(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=ge(t);let o=(s?gt(n.width):n.width)/r,c=(s?gt(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const dn=G(0);function ye(e){const t=W(e);return!zt()||!t.visualViewport?dn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==W(e)?!1:t}function _(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=qt(e);let o=G(1);t&&(r?V(r)&&(o=nt(r)):o=nt(e));const c=vn(s,n,r)?ye(s):G(0);let a=(i.left+c.x)/o.x,l=(i.top+c.y)/o.y,d=i.width/o.x,p=i.height/o.y;if(s){const h=W(s),v=r&&V(r)?W(r):r;let g=h,y=g.frameElement;for(;y&&r&&v!==g;){const x=nt(y),m=y.getBoundingClientRect(),w=j(y),A=m.left+(y.clientLeft+parseFloat(w.paddingLeft))*x.x,D=m.top+(y.clientTop+parseFloat(w.paddingTop))*x.y;a*=x.x,l*=x.y,d*=x.x,p*=x.y,a+=A,l+=D,g=W(y),y=g.frameElement}}return wt({width:d,height:p,x:a,y:l})}function pn(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=U(r),c=t?Ot(t.floating):!1;if(r===o||c&&s)return n;let a={scrollLeft:0,scrollTop:0},l=G(1);const d=G(0),p=H(r);if((p||!p&&!s)&&((st(r)!=="body"||vt(o))&&(a=Pt(r)),H(r))){const h=_(r);l=nt(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+d.x,y:n.y*l.y-a.scrollTop*l.y+d.y}}function bn(e){return Array.from(e.getClientRects())}function we(e){return _(U(e)).left+Pt(e).scrollLeft}function hn(e){const t=U(e),n=Pt(e),r=e.ownerDocument.body,i=$(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=$(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+we(e);const c=-n.scrollTop;return j(r).direction==="rtl"&&(o+=$(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:c}}function mn(e,t){const n=W(e),r=U(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,c=0,a=0;if(i){s=i.width,o=i.height;const l=zt();(!l||l&&t==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:s,height:o,x:c,y:a}}function gn(e,t){const n=_(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=H(e)?nt(e):G(1),o=e.clientWidth*s.x,c=e.clientHeight*s.y,a=i*s.x,l=r*s.y;return{width:o,height:c,x:a,y:l}}function Jt(e,t,n){let r;if(t==="viewport")r=mn(e,n);else if(t==="document")r=hn(U(e));else if(V(t))r=gn(t,n);else{const i=ye(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return wt(r)}function xe(e,t){const n=X(e);return n===t||!V(n)||rt(n)?!1:j(n).position==="fixed"||xe(n,t)}function yn(e,t){const n=t.get(e);if(n)return n;let r=dt(e,[],!1).filter(c=>V(c)&&st(c)!=="body"),i=null;const s=j(e).position==="fixed";let o=s?X(e):e;for(;V(o)&&!rt(o);){const c=j(o),a=Ut(o);!a&&c.position==="fixed"&&(i=null),(s?!a&&!i:!a&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||vt(o)&&!a&&xe(e,o))?r=r.filter(d=>d!==o):i=c,o=X(o)}return t.set(e,r),r}function wn(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Ot(t)?[]:yn(t,this._c):[].concat(n),r],c=o[0],a=o.reduce((l,d)=>{const p=Jt(t,d,i);return l.top=$(p.top,l.top),l.right=K(p.right,l.right),l.bottom=K(p.bottom,l.bottom),l.left=$(p.left,l.left),l},Jt(t,c,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function xn(e){const{width:t,height:n}=ge(e);return{width:t,height:n}}function Tn(e,t,n){const r=H(t),i=U(t),s=n==="fixed",o=_(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const a=G(0);if(r||!r&&!s)if((st(t)!=="body"||vt(i))&&(c=Pt(t)),r){const p=_(t,!0,s,t);a.x=p.x+t.clientLeft,a.y=p.y+t.clientTop}else i&&(a.x=we(i));const l=o.left+c.scrollLeft-a.x,d=o.top+c.scrollTop-a.y;return{x:l,y:d,width:o.width,height:o.height}}function Ft(e){return j(e).position==="static"}function Qt(e,t){return!H(e)||j(e).position==="fixed"?null:t?t(e):e.offsetParent}function Te(e,t){const n=W(e);if(Ot(e))return n;if(!H(e)){let i=X(e);for(;i&&!rt(i);){if(V(i)&&!Ft(i))return i;i=X(i)}return n}let r=Qt(e,t);for(;r&&un(r)&&Ft(r);)r=Qt(r,t);return r&&rt(r)&&Ft(r)&&!Ut(r)?n:r||fn(e)||n}const An=async function(e){const t=this.getOffsetParent||Te,n=this.getDimensions,r=await n(e.floating);return{reference:Tn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Sn(e){return j(e).direction==="rtl"}const En={convertOffsetParentRelativeRectToViewportRelativeRect:pn,getDocumentElement:U,getClippingRect:wn,getOffsetParent:Te,getElementRects:An,getClientRects:bn,getDimensions:xn,getScale:nt,isElement:V,isRTL:Sn};function On(e,t){let n=null,r;const i=U(e);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const{left:l,top:d,width:p,height:h}=e.getBoundingClientRect();if(c||t(),!p||!h)return;const v=pt(d),g=pt(i.clientWidth-(l+p)),y=pt(i.clientHeight-(d+h)),x=pt(l),w={rootMargin:-v+"px "+-g+"px "+-y+"px "+-x+"px",threshold:$(0,K(1,a))||1};let A=!0;function D(P){const F=P[0].intersectionRatio;if(F!==a){if(!A)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A=!1}try{n=new IntersectionObserver(D,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,w)}n.observe(e)}return o(!0),s}function Pn(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,l=qt(e),d=i||s?[...l?dt(l):[],...dt(t)]:[];d.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const p=l&&c?On(l,n):null;let h=-1,v=null;o&&(v=new ResizeObserver(m=>{let[w]=m;w&&w.target===l&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(t)})),n()}),l&&!a&&v.observe(l),v.observe(t));let g,y=a?_(e):null;a&&x();function x(){const m=_(e);y&&(m.x!==y.x||m.y!==y.y||m.width!==y.width||m.height!==y.height)&&n(),y=m,g=requestAnimationFrame(x)}return n(),()=>{var m;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),p==null||p(),(m=v)==null||m.disconnect(),v=null,a&&cancelAnimationFrame(g)}}const Rn=an,Dn=cn,Nn=on,Cn=ln,Fn=rn,kn=(e,t,n)=>{const r=new Map,i={platform:En,...n},s={...i.platform,_c:r};return nn(e,t,{...i,platform:s})},Ln={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},In={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Mn(e,t,n={}){if(!t||!e||n===null)return{destroy:B};const r={...Ln,...n},i=t.querySelector("[data-arrow=true]"),s=[];r.flip&&s.push(Nn({boundary:r.boundary,padding:r.overflowPadding,...Fe(r.flip)&&r.flip}));const o=q(i)?i.offsetHeight/2:0;if(r.gutter||r.offset){const a=r.gutter?{mainAxis:r.gutter}:r.offset;(a==null?void 0:a.mainAxis)!=null&&(a.mainAxis+=o),s.push(Rn(a))}s.push(Dn({boundary:r.boundary,crossAxis:r.overlap,padding:r.overflowPadding})),i&&s.push(Fn({element:i,padding:8})),s.push(Cn({padding:r.overflowPadding,apply({rects:a,availableHeight:l,availableWidth:d}){r.sameWidth&&Object.assign(t.style,{width:`${Math.round(a.reference.width)}px`,minWidth:"unset"}),r.fitViewport&&Object.assign(t.style,{maxWidth:`${d}px`,maxHeight:`${l}px`})}}));function c(){if(!e||!t||q(e)&&!e.ownerDocument.documentElement.contains(e))return;const{placement:a,strategy:l}=r;kn(e,t,{placement:a,middleware:s,strategy:l}).then(d=>{const p=Math.round(d.x),h=Math.round(d.y),[v,g]=Bn(d.placement);if(t.setAttribute("data-side",v),t.setAttribute("data-align",g),Object.assign(t.style,{position:r.strategy,top:`${h}px`,left:`${p}px`}),q(i)&&d.middlewareData.arrow){const{x:y,y:x}=d.middlewareData.arrow,m=d.placement.split("-")[0];i.setAttribute("data-side",m),Object.assign(i.style,{position:"absolute",left:y!=null?`${y}px`:"",top:x!=null?`${x}px`:"",[m]:`calc(100% - ${o}px)`,transform:In[m],backgroundColor:"inherit",zIndex:"inherit"})}return d})}return Object.assign(t.style,{position:r.strategy}),{destroy:Pn(e,t,c)}}function Bn(e){const[t,n="center"]=e.split("-");return[t,n]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ae=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],xt=Ae.join(","),Se=typeof Element>"u",tt=Se?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Tt=!Se&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},At=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=i===""||i==="true",o=s||n&&t&&e(t.parentNode);return o},$n=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Ee=function(t,n,r){if(At(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(xt));return n&&tt.call(t,xt)&&i.unshift(t),i=i.filter(r),i},Oe=function e(t,n,r){for(var i=[],s=Array.from(t);s.length;){var o=s.shift();if(!At(o,!1))if(o.tagName==="SLOT"){var c=o.assignedElements(),a=c.length?c:o.children,l=e(a,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:o,candidates:l})}else{var d=tt.call(o,xt);d&&r.filter(o)&&(n||!t.includes(o))&&i.push(o);var p=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),h=!At(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(p&&h){var v=e(p===!0?o.children:p.children,!0,r);r.flatten?i.push.apply(i,v):i.push({scopeParent:o,candidates:v})}else s.unshift.apply(s,o.children)}}return i},Pe=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},J=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||$n(t))&&!Pe(t)?0:t.tabIndex},Wn=function(t,n){var r=J(t);return r<0&&n&&!Pe(t)?0:r},jn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Re=function(t){return t.tagName==="INPUT"},Kn=function(t){return Re(t)&&t.type==="hidden"},Vn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Hn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Un=function(t){if(!t.name)return!0;var n=t.form||Tt(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=Hn(i,t.form);return!s||s===t},zn=function(t){return Re(t)&&t.type==="radio"},qn=function(t){return zn(t)&&!Un(t)},Gn=function(t){var n,r=t&&Tt(t),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==t){var o,c,a;for(s=!!((o=i)!==null&&o!==void 0&&(c=o.ownerDocument)!==null&&c!==void 0&&c.contains(i)||t!=null&&(a=t.ownerDocument)!==null&&a!==void 0&&a.contains(t));!s&&i;){var l,d,p;r=Tt(i),i=(l=r)===null||l===void 0?void 0:l.host,s=!!((d=i)!==null&&d!==void 0&&(p=d.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return s},_t=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Yn=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=tt.call(t,"details>summary:first-of-type"),o=s?t.parentElement:t;if(tt.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var c=t;t;){var a=t.parentElement,l=Tt(t);if(a&&!a.shadowRoot&&i(a)===!0)return _t(t);t.assignedSlot?t=t.assignedSlot:!a&&l!==t.ownerDocument?t=l.host:t=a}t=c}if(Gn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return _t(t);return!1},Xn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return tt.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},St=function(t,n){return!(n.disabled||At(n)||Kn(n)||Yn(n,t)||Vn(n)||Xn(n))},Mt=function(t,n){return!(qn(n)||J(n)<0||!St(t,n))},Zn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Jn=function e(t){var n=[],r=[];return t.forEach(function(i,s){var o=!!i.scopeParent,c=o?i.scopeParent:i,a=Wn(c,o),l=o?e(i.candidates):c;a===0?o?n.push.apply(n,l):n.push(c):r.push({documentOrder:s,tabIndex:a,item:i,isScope:o,content:l})}),r.sort(jn).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},Qn=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Oe([t],n.includeContainer,{filter:Mt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Zn}):r=Ee(t,n.includeContainer,Mt.bind(null,n)),Jn(r)},_n=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Oe([t],n.includeContainer,{filter:St.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Ee(t,n.includeContainer,St.bind(null,n)),r},et=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return tt.call(t,xt)===!1?!1:Mt(n,t)},tr=Ae.concat("iframe").join(","),kt=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return tt.call(t,tr)===!1?!1:St(n,t)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?te(Object(n),!0).forEach(function(r){er(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function er(e,t,n){return t=rr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nr(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rr(e){var t=nr(e,"string");return typeof t=="symbol"?t:String(t)}var ne={activateTrap:function(t,n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(t,n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}},or=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},ir=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},ut=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},sr=function(t){return ut(t)&&!t.shiftKey},ar=function(t){return ut(t)&&t.shiftKey},re=function(t){return setTimeout(t,0)},oe=function(t,n){var r=-1;return t.every(function(i,s){return n(i)?(r=s,!1):!0}),r},lt=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},bt=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},cr=[],lr=function(t,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||cr,s=ee({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:sr,isKeyBackward:ar},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,a=function(u,f,b){return u&&u[f]!==void 0?u[f]:s[b||f]},l=function(u,f){var b=typeof(f==null?void 0:f.composedPath)=="function"?f.composedPath():void 0;return o.containerGroups.findIndex(function(E){var T=E.container,O=E.tabbableNodes;return T.contains(u)||(b==null?void 0:b.includes(T))||O.find(function(R){return R===u})})},d=function(u){var f=s[u];if(typeof f=="function"){for(var b=arguments.length,E=new Array(b>1?b-1:0),T=1;T<b;T++)E[T-1]=arguments[T];f=f.apply(void 0,E)}if(f===!0&&(f=void 0),!f){if(f===void 0||f===!1)return f;throw new Error("`".concat(u,"` was specified but was not a node, or did not return a node"))}var O=f;if(typeof f=="string"&&(O=r.querySelector(f),!O))throw new Error("`".concat(u,"` as selector refers to no known node"));return O},p=function(){var u=d("initialFocus");if(u===!1)return!1;if(u===void 0||!kt(u,s.tabbableOptions))if(l(r.activeElement)>=0)u=r.activeElement;else{var f=o.tabbableGroups[0],b=f&&f.firstTabbableNode;u=b||d("fallbackFocus")}if(!u)throw new Error("Your focus-trap needs to have at least one focusable element");return u},h=function(){if(o.containerGroups=o.containers.map(function(u){var f=Qn(u,s.tabbableOptions),b=_n(u,s.tabbableOptions),E=f.length>0?f[0]:void 0,T=f.length>0?f[f.length-1]:void 0,O=b.find(function(I){return et(I)}),R=b.slice().reverse().find(function(I){return et(I)}),C=!!f.find(function(I){return J(I)>0});return{container:u,tabbableNodes:f,focusableNodes:b,posTabIndexesFound:C,firstTabbableNode:E,lastTabbableNode:T,firstDomTabbableNode:O,lastDomTabbableNode:R,nextTabbableNode:function(Z){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,z=f.indexOf(Z);return z<0?at?b.slice(b.indexOf(Z)+1).find(function(ct){return et(ct)}):b.slice(0,b.indexOf(Z)).reverse().find(function(ct){return et(ct)}):f[z+(at?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(u){return u.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(u){return u.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},v=function S(u){var f=u.activeElement;if(f)return f.shadowRoot&&f.shadowRoot.activeElement!==null?S(f.shadowRoot):f},g=function S(u){if(u!==!1&&u!==v(document)){if(!u||!u.focus){S(p());return}u.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=u,or(u)&&u.select()}},y=function(u){var f=d("setReturnFocus",u);return f||(f===!1?!1:u)},x=function(u){var f=u.target,b=u.event,E=u.isBackward,T=E===void 0?!1:E;f=f||bt(b),h();var O=null;if(o.tabbableGroups.length>0){var R=l(f,b),C=R>=0?o.containerGroups[R]:void 0;if(R<0)T?O=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:O=o.tabbableGroups[0].firstTabbableNode;else if(T){var I=oe(o.tabbableGroups,function(Rt){var Dt=Rt.firstTabbableNode;return f===Dt});if(I<0&&(C.container===f||kt(f,s.tabbableOptions)&&!et(f,s.tabbableOptions)&&!C.nextTabbableNode(f,!1))&&(I=R),I>=0){var Z=I===0?o.tabbableGroups.length-1:I-1,at=o.tabbableGroups[Z];O=J(f)>=0?at.lastTabbableNode:at.lastDomTabbableNode}else ut(b)||(O=C.nextTabbableNode(f,!1))}else{var z=oe(o.tabbableGroups,function(Rt){var Dt=Rt.lastTabbableNode;return f===Dt});if(z<0&&(C.container===f||kt(f,s.tabbableOptions)&&!et(f,s.tabbableOptions)&&!C.nextTabbableNode(f))&&(z=R),z>=0){var ct=z===o.tabbableGroups.length-1?0:z+1,Gt=o.tabbableGroups[ct];O=J(f)>=0?Gt.firstTabbableNode:Gt.firstDomTabbableNode}else ut(b)||(O=C.nextTabbableNode(f))}}else O=d("fallbackFocus");return O},m=function(u){var f=bt(u);if(!(l(f,u)>=0)){if(lt(s.clickOutsideDeactivates,u)){c.deactivate({returnFocus:s.returnFocusOnDeactivate});return}lt(s.allowOutsideClick,u)||u.preventDefault()}},w=function(u){var f=bt(u),b=l(f,u)>=0;if(b||f instanceof Document)b&&(o.mostRecentlyFocusedNode=f);else{u.stopImmediatePropagation();var E,T=!0;if(o.mostRecentlyFocusedNode)if(J(o.mostRecentlyFocusedNode)>0){var O=l(o.mostRecentlyFocusedNode),R=o.containerGroups[O].tabbableNodes;if(R.length>0){var C=R.findIndex(function(I){return I===o.mostRecentlyFocusedNode});C>=0&&(s.isKeyForward(o.recentNavEvent)?C+1<R.length&&(E=R[C+1],T=!1):C-1>=0&&(E=R[C-1],T=!1))}}else o.containerGroups.some(function(I){return I.tabbableNodes.some(function(Z){return J(Z)>0})})||(T=!1);else T=!1;T&&(E=x({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),g(E||o.mostRecentlyFocusedNode||p())}o.recentNavEvent=void 0},A=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=u;var b=x({event:u,isBackward:f});b&&(ut(u)&&u.preventDefault(),g(b))},D=function(u){if(ir(u)&&lt(s.escapeDeactivates,u)!==!1){u.preventDefault(),c.deactivate();return}(s.isKeyForward(u)||s.isKeyBackward(u))&&A(u,s.isKeyBackward(u))},P=function(u){var f=bt(u);l(f,u)>=0||lt(s.clickOutsideDeactivates,u)||lt(s.allowOutsideClick,u)||(u.preventDefault(),u.stopImmediatePropagation())},F=function(){if(o.active)return ne.activateTrap(i,c),o.delayInitialFocusTimer=s.delayInitialFocus?re(function(){g(p())}):g(p()),r.addEventListener("focusin",w,!0),r.addEventListener("mousedown",m,{capture:!0,passive:!1}),r.addEventListener("touchstart",m,{capture:!0,passive:!1}),r.addEventListener("click",P,{capture:!0,passive:!1}),r.addEventListener("keydown",D,{capture:!0,passive:!1}),c},k=function(){if(o.active)return r.removeEventListener("focusin",w,!0),r.removeEventListener("mousedown",m,!0),r.removeEventListener("touchstart",m,!0),r.removeEventListener("click",P,!0),r.removeEventListener("keydown",D,!0),c},M=function(u){var f=u.some(function(b){var E=Array.from(b.removedNodes);return E.some(function(T){return T===o.mostRecentlyFocusedNode})});f&&g(p())},L=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(M):void 0,N=function(){L&&(L.disconnect(),o.active&&!o.paused&&o.containers.map(function(u){L.observe(u,{subtree:!0,childList:!0})}))};return c={get active(){return o.active},get paused(){return o.paused},activate:function(u){if(o.active)return this;var f=a(u,"onActivate"),b=a(u,"onPostActivate"),E=a(u,"checkCanFocusTrap");E||h(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,f==null||f();var T=function(){E&&h(),F(),N(),b==null||b()};return E?(E(o.containers.concat()).then(T,T),this):(T(),this)},deactivate:function(u){if(!o.active)return this;var f=ee({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},u);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,k(),o.active=!1,o.paused=!1,N(),ne.deactivateTrap(i,c);var b=a(f,"onDeactivate"),E=a(f,"onPostDeactivate"),T=a(f,"checkCanReturnFocus"),O=a(f,"returnFocus","returnFocusOnDeactivate");b==null||b();var R=function(){re(function(){O&&g(y(o.nodeFocusedBeforeActivation)),E==null||E()})};return O&&T?(T(y(o.nodeFocusedBeforeActivation)).then(R,R),this):(R(),this)},pause:function(u){if(o.paused||!o.active)return this;var f=a(u,"onPause"),b=a(u,"onPostPause");return o.paused=!0,f==null||f(),k(),N(),b==null||b(),this},unpause:function(u){if(!o.paused||!o.active)return this;var f=a(u,"onUnpause"),b=a(u,"onPostUnpause");return o.paused=!1,f==null||f(),h(),F(),N(),b==null||b(),this},updateContainerElements:function(u){var f=[].concat(u).filter(Boolean);return o.containers=f.map(function(b){return typeof b=="string"?r.querySelector(b):b}),o.active&&h(),N(),this}},c.updateContainerElements(t),c};const ur=(e,t={})=>{let n=B;const r=i=>{n();const s=lr(e,{returnFocusOnDeactivate:!1,allowOutsideClick:!0,escapeDeactivates:!1,clickOutsideDeactivates:!1,...i});n=s.deactivate,s.activate()};return r(t),{destroy:n,update:r}},fr=(e,t)=>{let n=B;function r(i){n();const{onClose:s,shouldCloseOnInteractOutside:o,closeOnInteractOutside:c}=i;function a(){s==null||s()}function l(p){const h=p.target;Wt(h)&&p.stopImmediatePropagation()}function d(p){o!=null&&o(p)&&(p.stopImmediatePropagation(),a())}n=hr(e,{onInteractOutsideStart:l,onInteractOutside:c?d:void 0,enabled:c}).destroy}return r(t),{update:r,destroy(){n()}}},Bt=new Set,dr=(e,t={})=>{Bt.add(e);let n=B,r=B;const i=ve(e);let s=!1;const o=a=>{n(),c();const l={enabled:!0,...a},d=ae(l.enabled)?l.enabled:ce(ue(l.enabled));n=Et(ft(i,"pointerdown",h=>{const v=h.target;!pr(e)||!q(v)||!d.get()||(s=jt(e,v),s&&(r=vr(e)))},!0),ft(i,"pointerup",c,!0))},c=()=>{r(),r=B,s=!1};return o(t),{destroy(){Bt.delete(e),n(),c()},update:o}},vr=e=>{const t=document.body,n=ie(t),r=ie(e);return ht(t,"none"),ht(e,"text"),()=>{ht(t,n),ht(e,r)}},ie=e=>e.style.userSelect||e.style.webkitUserSelect,ht=(e,t)=>{e.style.userSelect=t,e.style.webkitUserSelect=t},pr=e=>[...Bt].at(-1)===e,br={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body",preventTextSelectionOverflow:{}},Fr=(e,t)=>{e.dataset.escapee="";const{anchorElement:n,open:r,options:i}=t;if(!n||!r||!i)return{destroy:B};const s={...br,...i},o=[];s.portal!==null&&o.push(ke(e,s.portal).destroy),o.push(Mn(n,e,s.floating).destroy),s.focusTrap!==null&&o.push(ur(e,{fallbackFocus:e,...s.focusTrap}).destroy),s.modal!==null&&o.push(fr(e,{onClose:()=>{q(n)&&(r.set(!1),n.focus())},shouldCloseOnInteractOutside:a=>!(a.defaultPrevented||q(n)&&n.contains(a.target)),...s.modal}).destroy),s.escapeKeydown!==null&&o.push(ze(e,{handler:()=>{r.set(!1)},...s.escapeKeydown}).destroy),s.preventTextSelectionOverflow!==null&&o.push(dr(e).destroy);const c=Et(...o);return{destroy(){c()}}},$t=new Set,hr=(e,t={})=>{let n=B,r=B,i=B,s=B;$t.add(e);const o=ve(e);let c=!1,a=!1;const l={pointerdown:!1,pointerup:!1,mousedown:!1,mouseup:!1,touchstart:!1,touchend:!1,click:!1},d=()=>{for(const m in l)l[m]=!1},p=()=>{for(const m of Object.values(l))if(m)return!0;return!1},h=(m,w)=>ft(o,m,A=>{l[m]=!0,w==null||w(A)},!0),v=(m,w)=>ft(o,m,A=>{l[m]=!1,w==null||w(A)});function g(m){n(),r(),i(),s(),d();const{onInteractOutside:w,onInteractOutsideStart:A,enabled:D}={enabled:!0,...m};if(!D)return;let P=!1;const F=Nt(N=>{if(!P||p())return;w&&se(N,e)&&(A==null||A(N));const S=N.target;Wt(S)&&jt(e,S)&&(a=!0),c=!0},10);r=F.destroy;const k=Nt(N=>{P&&!p()&&y(N)&&(w==null||w(N)),x()},10);i=k.destroy;const M=Nt(d,20);s=M.destroy;const L=()=>{P=mr(e)};n=Et(h("pointerdown",L),h("mousedown",L),h("touchstart",L),h("pointerup",M),h("mouseup",M),h("touchend",M),h("click",M),v("pointerdown",F),v("mousedown",F),v("touchstart",F),v("pointerup",k),v("mouseup",k),v("touchend",k),v("click",k))}function y(m){return!!(c&&!a&&se(m,e))}function x(){c=!1,a=!1}return g(t),{update:g,destroy(){n(),r(),i(),s(),$t.delete(e)}}};function se(e,t){if("button"in e&&e.button>0)return!1;const n=e.target;if(!Wt(n))return!1;const r=n.ownerDocument;return!r||!r.documentElement.contains(n)?!1:t&&!jt(t,n)}function mr(e){return Array.from($t).at(-1)===e}export{Nt as a,xr as b,fr as c,Nr as d,He as e,Tr as f,Cr as g,ze as h,ur as i,lr as j,Er as l,Ar as n,Sr as p,Dr as r,Rr as s,Pr as t,Fr as u,Or as w};
