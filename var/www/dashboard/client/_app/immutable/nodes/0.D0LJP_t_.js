import{s as M,c as q,k,o as E,n as g,a as I,d as D,u as H,f as N,h as F}from"../chunks/scheduler.B5rZiKyw.js";import{S as O,i as W,n as z,s as P,k as R,q as U,f as V,r as j,g as L,v as $,y as x,u as v,d as T,w as B,z as J,e as K,c as Q,A as X,l as Y}from"../chunks/index.DrETqFkR.js";import{r as b}from"../chunks/index.C_NBoP9Y.js";import{R as Z,s as S,E as G,C as A}from"../chunks/Root.C0yP0cq-.js";import{G as ee}from"../chunks/Text.BhQ4mwMc.js";import{G as w,F as te,W as se}from"../chunks/index.B55XrTM7.js";import{S as re}from"../chunks/index.DzoIQcSY.js";function oe(i){let r;const o=i[4].default,e=D(o,i,i[3],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,n){e&&e.m(t,n),r=!0},p(t,n){e&&e.p&&(!r||n&8)&&H(e,o,t,t[3],r?F(o,t[3],n,null):N(t[3]),null)},i(t){r||(v(e,t),r=!0)},o(t){$(e,t),r=!1},d(t){e&&e.d(t)}}}function ae(i){let r,o="<h1>Loading</h1>";return{c(){r=K("div"),r.innerHTML=o,this.h()},l(e){r=Q(e,"DIV",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1r1299i"&&(r.innerHTML=o),this.h()},h(){Y(r,"class","loading-page")},m(e,t){L(e,r,t)},p:g,i:g,o:g,d(e){e&&T(r)}}}function ne(i){let r,o,e,t,n,u;r=new Z({});const y=[ae,oe],l=[];function f(s,c){return s[0]?0:1}return e=f(i),t=l[e]=y[e](i),{c(){z(r.$$.fragment),o=P(),t.c(),n=R()},l(s){U(r.$$.fragment,s),o=V(s),t.l(s),n=R()},m(s,c){j(r,s,c),L(s,o,c),l[e].m(s,c),L(s,n,c),u=!0},p(s,[c]){let d=e;e=f(s),e===d?l[e].p(s,c):(J(),$(l[d],1,1,()=>{l[d]=null}),x(),t=l[e],t?t.p(s,c):(t=l[e]=y[e](s),t.c()),v(t,1),t.m(n.parentNode,n))},i(s){u||(v(r.$$.fragment,s),v(t),u=!0)},o(s){$(r.$$.fragment,s),$(t),u=!1},d(s){s&&(T(o),T(n)),B(r,s),l[e].d(s)}}}function ie(i,r,o){let e,t,n=g,u=()=>(n(),n=I(s,a=>o(6,t=a)),s);i.$$.on_destroy.push(()=>n());let{$$slots:y={},$$scope:l}=r,f=!0,s=b();u();const c=b({auth:w({name:"authentication"}),i18n:w({name:"i18n"}),urls:w({name:"url-shortner"})});q(i,c,a=>o(5,e=a)),k("services",c);const d=async function(a){var _;const m=ee("dashboard.toasts.error.title",t)||"An error occured";try{const p=e[a.service];if(!p)throw new Error(`Failed to call service method: service "${p}" is not defined`);let h=await te({url:`${p}${a.url}`,method:a.method,query:a.query,headers:a.headers,data:a.data,flags:se});return h.data.code!=200&&a.showToast&&S({data:{title:m,description:`${(_=h.data.error)==null?void 0:_.message}`,type:G,flags:A}}),h.data.headers=h.meta.headers,h.data}catch(p){return a.showToast&&S({data:{title:m,description:`${p}`,type:G,flags:A}}),{code:500,code_message:"",status:"fatal"}}};k("CallServiceMethod",d);const C=async function(a){var _;let m=await d({service:"i18n",url:"/texts/dictionary",query:{paths:a},showToast:!0});if(!(!m||m.code!=200))return b(((_=m.data)==null?void 0:_.dictionary)??{})};return k("i18nLoadDictionary",C),E(()=>{o(0,f=!0),re.GetInstance().Load().GetProperty("direction")=="rtl"&&document.documentElement.setAttribute("dir","rtl"),o(0,f=!1)}),E(async()=>{u(o(1,s=await C("dashboard.toasts")??b()))}),i.$$set=a=>{"$$scope"in a&&o(3,l=a.$$scope)},[f,s,c,l,y]}class pe extends O{constructor(r){super(),W(this,r,ie,ne,M,{})}}export{pe as component};
